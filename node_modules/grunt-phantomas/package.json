{
  "name": "grunt-phantomas",
  "description": "Grunt plugin for phantomas",
  "version": "0.5.3",
  "homepage": "https://github.com/stefanjudis/grunt-phantomas",
  "author": {
    "name": "stefan judis",
    "email": "stefanjudis@gmail.com",
    "url": "http://stefanjudis.de"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/stefanjudis/grunt-phantomas.git"
  },
  "bugs": {
    "url": "https://github.com/stefanjudis/grunt-phantomas/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://github.com/stefanjudis/grunt-phantomas/blob/master/LICENSE-MIT"
    }
  ],
  "main": "Gruntfile.js",
  "engines": {
    "node": ">= 0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "devDependencies": {
    "grunt-contrib-jshint": "~0.8.0",
    "grunt-contrib-clean": "~0.5.0",
    "grunt-contrib-nodeunit": "~0.2.0",
    "grunt": "~0.4.1",
    "grunt-contrib-compass": "~0.7.0",
    "grunt-contrib-watch": "~0.5.3",
    "grunt-contrib-copy": "~0.5.0",
    "grunt-contrib-uglify": "~0.2.7"
  },
  "peerDependencies": {
    "grunt": "~0.4.1"
  },
  "keywords": [
    "gruntplugin",
    "phantomas",
    "performance",
    "metrics",
    "phantomjs"
  ],
  "dependencies": {
    "bluebird": "~1.0.0",
    "phantomas": "~0.12.1",
    "node-fs": "~0.1.7",
    "lodash": "~2.4.1",
    "html-minifier": "~0.5.5"
  },
  "readme": "# grunt-phantomas\n\n[![Build Status](http://img.shields.io/travis/stefanjudis/grunt-phantomas.svg)](https://travis-ci.org/stefanjudis/grunt-phantomas) [![NPM version](http://img.shields.io/npm/v/grunt-phantomas.svg)](http://badge.fury.io/js/grunt-phantomas) [![Dependency Status](http://img.shields.io/gemnasium/stefanjudis/grunt-phantomas.svg)](https://gemnasium.com/stefanjudis/grunt-phantomas) [![Built with Grunt](https://cdn.gruntjs.com/builtwith.png)](http://gruntjs.com/)\n\n> Grunt plugin for phantomas\n\n## Getting Started\nThis plugin requires Grunt `~0.4.1`\n\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\n\n```shell\nnpm install grunt-phantomas --save-dev\n```\n\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\n\n```js\ngrunt.loadNpmTasks('grunt-phantomas');\n```\n\n## The \"phantomas\" task\nYou're looking for a tool that gives you detailed metrics about your site? Great!!!\nThis grunt plugin executes [phantomas](https://github.com/macbre/phantomas) for you and visualizes the returned metrics in a generated `index.html` for you. It will keep track of history, so that you can set it up and check reports after every deployment of your site.\n\nExamples of rendered output:\n- metrics for [http://gruntjs.com](http://gruntjs.com) -> [here](http://stefanjudis.github.io/grunt-phantomas/gruntjs/)\n\n*I'm still at early stage, but I think you can already work with it.* ;)\n\n### Overview\nIn your project's Gruntfile, add a section named `phantomas` to the data object passed into `grunt.initConfig()`.\n\n```js\ngrunt.initConfig( {\n  phantomas: {\n    gruntSite : {\n      options : {\n        indexPath : './phantomas/',\n        options   : {},\n        url       : 'http://gruntjs.com/',\n        buildUi   : true\n      }\n    }\n  }\n} )\n```\n\n### Options\n\n#### options.additionalStylesheet\nType: `String|Boolean`\nDefault value: `false`\n\nIf you don't like the phantomas default styling and want to customize it, you can set the path to an additional stylesheet, that will be copied and loaded in the generated `index.html`.\n\n#### options.indexPath\nType: `String`\nDefault value: `./phantomas/`\n\nA string value that represents the relative path to the place where `phantomas` will render your metrics. Inside of this folder an `index.html`, a data folder and an assets folder will be created.\n\n#### options.numberOfRuns\nType: `Number`\nDefault value: `5`\n\nA numeric value that represents the number of times the `phantomas` executable will be started. The more times it runs the more reliable metrics become.\n\n#### options.options\nType: `Object`\nDefault value: `{}`\n\nAn array that represents possible options for `phantomas` executable. For more information please check [the official api documentation](https://github.com/macbre/phantomas/wiki/npm-module) and [list of possible parameters](https://github.com/macbre/phantomas). See usage examples later on.\n\n#### options.url\nType: `String`\nDefault value: `http://gruntjs.com/`\n\nA string value that represents the url of the site, which will be analyzed by `phantomas`.\n\n\n#### options.buildUi\nType: `Boolean`\nDefault value: `true`\n\nIf you want to use `grunt-phantomas` without the pretty UI, this is an option to switch off the visualization interface. If set to false only the JSON data will be outputted at `options.indexPath + '/data/'`.\n\n#### options.group\nType: `Object`\nDefault value:\n```\n{\n  'REQUESTS' : [\n    'requests',\n    'gzipRequests',\n    'postRequests',\n    'httpsRequests',\n    'notFound',\n    'multipleRequests',\n    'maxRequestsPerDomain',\n    'domains',\n    'medianRequestsPerDomain',\n    'redirects',\n    'redirectsTime',\n    'smallestResponse',\n    'biggestResponse',\n    'smallestLatency',\n    'biggestLatency',\n    'medianResponse',\n    'medianLatency',\n    'assetsNotGzipped',\n    'assetsWithQueryString',\n    'smallImages'\n  ],\n  'TIMINGS' : [\n    'timeToFirstByte',\n    'timeToLastByte',\n    'timeToFirstCss',\n    'timeToFirstJs',\n    'timeToFirstImage',\n    'fastestResponse',\n    'slowestResponse',\n    'onDOMReadyTime',\n    'onDOMReadyTimeEnd',\n    'windowOnLoadTime',\n    'windowOnLoadTimeEnd',\n    'httpTrafficCompleted',\n    'timeBackend',\n    'timeFrontend'\n  ],\n  'HTML' : [\n    'bodyHTMLSize',\n    'iframesCount',\n    'imagesWithoutDimensions',\n    'commentsSize',\n    'hiddenContentSize',\n    'whiteSpacesSize',\n    'DOMelementsCount',\n    'DOMelementMaxDepth',\n    'nodesWithInlineCSS',\n    'foo'\n  ],\n  'JAVASCRIPT' : [\n    'eventsBound',\n    'documentWriteCalls',\n    'evalCalls',\n    'jsErrors',\n    'consoleMessages',\n    'windowAlerts',\n    'windowConfirms',\n    'windowPrompts',\n    'globalVariables',\n    'localStorageEntries',\n    'ajaxRequests'\n  ],\n  'DOM' : [\n    'DOMqueries',\n    'DOMqueriesById',\n    'DOMqueriesByClassName',\n    'DOMqueriesByTagName',\n    'DOMqueriesByQuerySelectorAll',\n    'DOMinserts',\n    'DOMqueriesDuplicated'\n  ],\n  'HEADERS' : [\n    'headersCount',\n    'headersSentCount',\n    'headersRecvCount',\n    'headersSize',\n    'headersSentSize',\n    'headersRecvSize'\n  ],\n  'CACHING' : [\n    'cacheHits',\n    'cacheMisses',\n    'cachePasses',\n    'cachingNotSpecified',\n    'cachingTooShort',\n    'cachingDisabled'\n  ],\n  'COOKIES' : [\n    'cookiesSent',\n    'cookiesRecv',\n    'domainsWithCookies',\n    'documentCookiesLength',\n    'documentCookiesCount'\n  ],\n  'COUNTS & SIZES' : [\n    'contentLength',\n    'bodySize',\n    'htmlSize',\n    'htmlCount',\n    'cssSize',\n    'cssCount',\n    'jsSize',\n    'jsCount',\n    'jsonSize',\n    'jsonCount',\n    'imageSize',\n    'imageCount',\n    'webfontSize',\n    'webfontCount',\n    'base64Size',\n    'base64Count',\n    'otherCount',\n    'otherSize'\n  ],\n  'JQUERY' : [\n    'jQueryOnDOMReadyFunctions',\n    'jQuerySizzleCalls'\n  ]\n}\n```\nAn object that represents the metrics grouping rendered inside of the generated `index.html`. You can set up your grouping by just passing another object to this option.\n\nExample:\n\n```\nphantomas : {\n  /* https://github.com/stefanjudis/grunt-phantomas */\n  grunt : {\n    options : {\n      indexPath : './phantomas/',\n      options   : {\n        'timeout' : 30\n      },\n      url       : 'http://gruntjs.com/',\n      group     : {\n        'foo' : [ 'cookiesSent' ]\n      }\n    }\n  }\n}\n```\nThis configuration will lead to a rather empty looking rendered `index.html`. :)\nAdditionally you will be informed, which metrics you missed during the build process.\n\nOutput for example:\n\n```\nCHECKING FOR NOT DISPLAYED METRICS.\n>> You are currently not displaying the following metrics:\n>> requests, gzipRequests, postRequests, httpsRequests, notFound, timeToFirstByte, timeToLastByte, bodySize, contentLength, ajaxRequests, htmlCount, htmlSize, cssCount, cssSize, jsCount, jsSize, jsonCount, jsonSize, imageCount, imageSize, webfontCount, webfontSize, base64Count, base64Size, otherCount, otherSize, cacheHits, cacheMisses, cachePasses, cachingNotSpecified, cachingTooShort, cachingDisabled, consoleMessages, domains, maxRequestsPerDomain, medianRequestsPerDomain, DOMqueries, DOMqueriesById, DOMqueriesByClassName, DOMqueriesByTagName, DOMqueriesByQuerySelectorAll, DOMinserts, DOMqueriesDuplicated, eventsBound, headersCount, headersSentCount, headersRecvCount, headersSize, headersSentSize, headersRecvSize, documentWriteCalls, evalCalls, jQueryOnDOMReadyFunctions, jQuerySizzleCalls, jsErrors, redirects, redirectsTime, assetsNotGzipped, assetsWithQueryString, smallImages, multipleRequests, timeToFirstCss, timeToFirstJs, timeToFirstImage, onDOMReadyTime, onDOMReadyTimeEnd, windowOnLoadTime, windowOnLoadTimeEnd, timeBackend, timeFrontend, httpTrafficCompleted, windowAlerts, windowConfirms, windowPrompts, cookiesRecv, domainsWithCookies, documentCookiesLength, documentCookiesCount, bodyHTMLSize, iframesCount, imagesWithoutDimensions, commentsSize, hiddenContentSize, whiteSpacesSize, DOMelementsCount, DOMelementMaxDepth, nodesWithInlineCSS, globalVariables, localStorageEntries, smallestResponse, biggestResponse, fastestResponse, slowestResponse, smallestLatency, biggestLatency, medianResponse, medianLatency\n```\n\n\n### Usage Examples\n\n#### Default Options\nIn this example, the default options are used to fetch metrics of `http://gruntjs.com` and render the visualized metrics at `./phantomas`.\n\n```js\ngrunt.initConfig({\n  phantomas: {\n  \tyourSite: {}\n  }\n});\n```\n\n#### Grunt task options\nIn this example, custom options are used to fetch metrics of `http://yoursite.com` and render the visualized metrics at `./yoursite/`.\n\n```js\ngrunt.initConfig( {\n  phantomas: {\n    yourSite : {\n      options : {\n        additionalStylesheet : '/Users/foo/bar/custom.css',\n        indexPath            : './yoursite/',\n        url                  : 'http://yoursite.com/',\n        numberOfRuns         : 10\n      }\n    }\n  }\n} );\n```\n\n#### Phantomas options\nIn this example, the phantomas option is used to set `phantomas` execution parameters. In this case all external script except the defined ones are blocked by `phantomas`, what can become really handy, when dealing with a lot of third party scripts that influence your site performance.\nAdditionally phantomas will wait 30 seconds for all resources to be loaded until it quits with the timeout status code 252.\n```js\ngrunt.initConfig( {\n  phantomas: {\n    yourSite : {\n      options : {\n        indexPath : './yoursite/',\n        options   : {\n          'allow-domain' : 'cdn.yoursite.com.br,ajax.googleapis.com',\n          'no-externals' : true,\n          'timeout'      : 30\n\n        },\n        url       : 'http://yoursite.com'\n      }\n    }\n  }\n} );\n```\n\n#### Note:\nFormatters are not supported as options for Phantomas, because they are not implemented in the CommonJS version of Phantomas.\n\n\n## Contributing\nIn lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using [Grunt](http://gruntjs.com/).\n\nTo make sure tests are passing and coding style is in a good shape please run `grunt test` before applying changes.\n\n## Release History\nPlease check release history at [Github](https://github.com/stefanjudis/grunt-phantomas/releases). :)\n",
  "readmeFilename": "README.md",
  "_id": "grunt-phantomas@0.5.3",
  "dist": {
    "shasum": "903c0451d179be3a9d0e9b6883dc8a4d0dc2d7fb"
  },
  "_from": "grunt-phantomas@^0.5.2",
  "_resolved": "https://registry.npmjs.org/grunt-phantomas/-/grunt-phantomas-0.5.3.tgz"
}
